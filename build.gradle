import org.apache.tools.ant.filters.ReplaceTokens

group 'devops'
version '1.0-SNAPSHOT'

apply plugin: 'java'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

task copyDocs(type: Copy) {
    from 'src/main/doc'
    into "$buildDir/documentation"
    exclude '*.gif'

    filter ReplaceTokens, tokens: ["version": version]
}

task runMain(type: JavaExec) {
    doLast {
    group = 'devops'
    dependsOn 'classes'
    main = 'HelloWorld'
    classpath = sourceSets.main.runtimeClasspath
    args = [System.getProperty('name')]}
}

subprojects {
    task doIt() {
        println("Just do it! https://www.youtube.com/watch?v=ZXsQAXx_ao0");
    }
}


dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    testCompile group: 'org.assertj', name: 'assertj-core', version: '1.0.0'
}